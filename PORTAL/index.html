<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Student Portal - Heavenly Wisdom Academy (Updated)</title>
  <link rel="stylesheet" href="style.css">
  <script src="https://kit.fontawesome.com/c4254e24a8.js" crossorigin="anonymous"></script>
  <style>
    .portal-header {
      text-align: center;
      margin-bottom: 30px;
    }
    .school-logo {
      width: 80px;
      height: 80px;
      margin: 0 auto 15px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 35px;
      color: white;
    }
    .portal-title {
      font-size: 28px;
      color: #333;
      margin-bottom: 5px;
      font-weight: bold;
    }
    .portal-subtitle {
      color: #666;
      font-size: 16px;
      margin-bottom: 20px;
    }
    .access-info {
      background: linear-gradient(135deg, #e3f2fd, #f3e5f5);
      padding: 20px;
      border-radius: 10px;
      margin-bottom: 25px;
      border-left: 4px solid #2196f3;
    }
    .access-info h3 {
      margin: 0 0 10px 0;
      color: #1976d2;
      font-size: 18px;
    }
    .access-info ul {
      margin: 10px 0;
      padding-left: 20px;
    }
    .access-info li {
      margin: 5px 0;
      color: #555;
    }
    .contact-support {
      background: #f8f9fa;
      padding: 15px;
      border-radius: 8px;
      margin-top: 20px;
      text-align: center;
      border: 1px solid #e9ecef;
    }
    .contact-support h4 {
      margin: 0 0 10px 0;
      color: #495057;
    }
    .contact-links {
      display: flex;
      justify-content: center;
      gap: 20px;
      flex-wrap: wrap;
    }
    .contact-links a {
      color: #007bff;
      text-decoration: none;
      font-weight: 500;
    }
    .contact-links a:hover {
      text-decoration: underline;
    }
    .loading {
      display: none;
      text-align: center;
      color: #666;
      margin: 10px 0;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="form-box">
      <div class="portal-header">
        <div class="school-logo">ğŸ«</div>
        <h1 class="portal-title">HEAVENLY WISDOM ACADEMY</h1>
        <p class="portal-subtitle">Student Portal Access</p>
      </div>

      <div class="access-info">
        <h3>ğŸ” Portal Access Information</h3>
        <ul>
          <li><strong>Students:</strong> <a href="student-login.html" style="color: #007bff; text-decoration: underline;">Click here for Student Login</a> (Use your name & password)</li>
          <li><strong>Teachers:</strong> Use the code from your welcome email</li>
          <li><strong>Parents:</strong> Check your enrollment documents</li>
          <li><strong>Admin:</strong> Use your administrative access code</li>
        </ul>
      </div>

      <form id="portalForm">
        <div class="input-box">
          <input type="password" id="accessCode" placeholder="Enter Your Access Code" required>
          <i class="fas fa-key" style="position: absolute; right: 15px; top: 50%; transform: translateY(-50%); color: #666;"></i>
        </div>

        <div class="input-box">
          <select id="userRole" required>
            <option value="">Select Your Role</option>
            <option value="student">ğŸ‘¨â€ğŸ“ Student</option>
            <option value="teacher">ğŸ‘©â€ğŸ« Teacher</option>
            <option value="parent">ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ Parent</option>
            <option value="admin">âš™ï¸ Administrator</option>
          </select>
        </div>

        <div class="loading" id="loadingMsg">
          <i class="fas fa-spinner fa-spin"></i> Verifying access...
        </div>

        <button type="submit">ğŸš€ Enter Portal</button>
      </form>

      <div class="contact-support">
        <h4>ğŸ“ Need Help Accessing the Portal?</h4>
        <div class="contact-links">
          <a href="mailto:adorableheavenlywisdom@gmail.com">âœ‰ï¸ Email Support</a>
          <a href="tel:+2348062297002">ğŸ“± Call Us</a>
          <a href="#" onclick="requestAccess()">ğŸ”‘ Request Access</a>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Professional Portal Access System
    const ACCESS_CODES = {
      // Student Access Codes
      'student2025': 'student',
      'heavenly-student': 'student',
      'hwia-student': 'student',
      
      // Teacher Access Codes  
      'teacher2025': 'teacher',
      'heavenly-teacher': 'teacher',
      'hwia-staff': 'teacher',
      
      // Parent Access Codes
      'parent2025': 'parent',
      'heavenly-parent': 'parent',
      
      // Admin Access Codes
      'admin2025': 'admin',
      'heavenly-admin': 'admin',
      'hwia-admin': 'admin'
    };

    document.getElementById('portalForm').addEventListener('submit', function(e) {
      e.preventDefault();
      
      const accessCode = document.getElementById('accessCode').value.trim();
      const userRole = document.getElementById('userRole').value;
      const loadingMsg = document.getElementById('loadingMsg');
      const submitBtn = this.querySelector('button[type="submit"]');
      
      if (!accessCode || !userRole) {
        alert('âš ï¸ Please enter your access code and select your role');
        return;
      }

      // Show loading
      loadingMsg.style.display = 'block';
      submitBtn.disabled = true;
      submitBtn.textContent = 'Verifying...';

      // Simulate verification delay for professional feel
      setTimeout(() => {
        const codeRole = ACCESS_CODES[accessCode.toLowerCase()];
        
        if (codeRole && codeRole === userRole) {
          // Store user session
          sessionStorage.setItem('portal_user', JSON.stringify({
            role: userRole,
            accessTime: new Date().toISOString(),
            code: accessCode
          }));
          
          // Success message
          loadingMsg.innerHTML = '<i class="fas fa-check-circle" style="color: green;"></i> Access granted! Redirecting...';
          
          // Redirect based on role
          setTimeout(() => {
            switch(userRole) {
              case 'admin':
                window.location.href = 'admin-panel.html';
                break;
              case 'teacher':
                window.location.href = 'dashboard.html?role=teacher';
                break;
              case 'student':
                window.location.href = 'dashboard.html?role=student';
                break;
              case 'parent':
                window.location.href = 'dashboard.html?role=parent';
                break;
              default:
                window.location.href = 'dashboard.html';
            }
          }, 1500);
          
        } else {
          // Access denied
          loadingMsg.style.display = 'none';
          submitBtn.disabled = false;
          submitBtn.textContent = 'ğŸš€ Enter Portal';
          
          if (codeRole && codeRole !== userRole) {
            alert('âŒ Access code is valid but doesn\'t match your selected role.\n\nPlease check your role selection.');
          } else {
            alert('âŒ Invalid access code.\n\nPlease check your code or contact support for assistance.');
          }
        }
      }, 1000);
    });

    function requestAccess() {
      const message = `Hello! I need access to the Heavenly Wisdom Academy portal.

Please provide me with the appropriate access code for my role.

My details:
- Name: [Your Name]
- Role: [Student/Teacher/Parent]
- Contact: [Your Phone/Email]

Thank you!`;

      const mailtoLink = `mailto:adorableheavenlywisdom@gmail.com?subject=Portal Access Request&body=${encodeURIComponent(message)}`;
      window.location.href = mailtoLink;
    }

    // Check if user is already logged in
    window.addEventListener('load', () => {
      const user = sessionStorage.getItem('portal_user');
      if (user) {
        const userData = JSON.parse(user);
        const accessTime = new Date(userData.accessTime);
        const now = new Date();
        const hoursSinceAccess = (now - accessTime) / (1000 * 60 * 60);
        
        // Auto-login if accessed within last 8 hours
        if (hoursSinceAccess < 8) {
          document.querySelector('.access-info').innerHTML = `
            <h3>âœ… Welcome Back!</h3>
            <p>You're already logged in as <strong>${userData.role}</strong>.</p>
            <button onclick="continueToDashboard()" style="background: #28a745; color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer; margin: 10px 5px;">Continue to Dashboard</button>
            <button onclick="logout()" style="background: #dc3545; color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer; margin: 10px 5px;">Logout</button>
          `;
        }
      }
    });

    function continueToDashboard() {
      const user = JSON.parse(sessionStorage.getItem('portal_user'));
      switch(user.role) {
        case 'admin':
          window.location.href = 'admin-panel.html';
          break;
        default:
          window.location.href = 'dashboard.html';
      }
    }

    function logout() {
      sessionStorage.removeItem('portal_user');
      location.reload();
    }

    console.log('ğŸ« Heavenly Wisdom Academy Portal System Loaded - v2.0');
    console.log('ğŸ“‹ Available Access Codes for Testing:');
    console.log('   Students: student2025, heavenly-student');
    console.log('   Teachers: teacher2025, heavenly-teacher');
    console.log('   Admin: admin2025, heavenly-admin');
    console.log('ğŸš€ System Updated:', new Date().toISOString());
  </script>
</body>
</html>